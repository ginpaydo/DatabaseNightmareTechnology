{"GenerateFileName":"MainWindowViewModel.cs","Discription":"アプリ設定と同じ汎用入力を適用すればよい。","TemplateBody":"using @(Model.Values[\"AppName\"][0]).Models;\r\nusing Reactive.Bindings;\r\nusing Reactive.Bindings.Extensions;\r\nusing System;\r\nusing Prism.Regions;\r\nusing Prism.Logging;\r\n\r\nnamespace @(Model.Values[\"AppName\"][0]).ViewModels\r\n{\r\n    /// <summary>\r\n    /// メインウィンドウ\r\n    /// 各ユーザコントロールを表示する\r\n    /// </summary>\r\n    public class MainWindowViewModel : ViewModelBase\r\n    {\r\n        #region Private\r\n\r\n        /// <summary>\r\n        /// 各画面表示領域\r\n        /// </summary>\r\n        private string DefaultRegion = @(Model.Values[\"ConstantsClassName\"][0]).ContentRegion;\r\n        \r\n        #endregion\r\n\r\n        #region ReactiveProperty\r\n        \r\n        /// <summary>\r\n        /// タイトル\r\n        /// </summary>\r\n        public ReadOnlyReactiveProperty<string> Title { get; }\r\n        \r\n        #endregion\r\n\r\n        #region Command\r\n        @foreach(var item in Model.ListedValues[\"UserControl\"].Values){\r\n        @:/// <summary>\r\n        @:/// @(item[1])遷移\r\n        @:/// </summary>\r\n        @:public ReactiveCommand To@(item[0]) { get; }\r\n        @:\r\n        }\r\n        #endregion\r\n\r\n        #region Initialize\r\n        public MainWindowViewModel(IRegionManager regionManager, ILoggerFacade loggerFacade)\r\n            : base(new MainWindowModel(), \"メインウィンドウ\", loggerFacade)\r\n        {\r\n            var model = Model as MainWindowModel;\r\n\r\n            #region 値の連動設定\r\n            Title = model.ToReactivePropertyAsSynchronized(\r\n                m => m.Title   // モデルとの対応付け\r\n                ).ToReadOnlyReactiveProperty();\r\n            #endregion\r\n\r\n            #region ボタンの動作設定\r\n            // 実行の許可/不許可を制御するIObservable<bool>\r\n            // このValueがtrueかfalseかで制御される\r\n            ReactiveProperty<bool> gate = new ReactiveProperty<bool>(true);\r\n\r\n            @foreach(var item in Model.ListedValues[\"UserControl\"].Values){\r\n            @:// @(item[1])の動作\r\n            @:To@(item[0]) = new ReactiveCommand(gate);\r\n            @:To@(item[0]).Subscribe(\r\n                @:d =>\r\n                @:{\r\n                    @:regionManager.RequestNavigate(DefaultRegion, @(Model.Values[\"ConstantsClassName\"][0]).@(item[0]));\r\n                @:}\r\n            @:);\r\n            @:\r\n            }\r\n            #endregion\r\n        }\r\n        #endregion\r\n    }\r\n}"}